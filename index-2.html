<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>avus · Email-Akquise Dashboard (Browser-Version)</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">av</div>
      <div>
        <div class="brand-sub">avus gastro</div>
        <div class="brand-title">smart‑cap Dashboard</div>
      </div>
    </div>
    <span class="tagline">pay easy — Bezahlen im Flow</span>
  </header>

  <nav id="mainNav" class="nav hidden">
    <button data-tab="dashboard" class="active">Dashboard</button>
    <button data-tab="templates">Templates</button>
    <button data-tab="blacklist">Blacklist</button>
    <button data-tab="kontakte">Kontaktliste</button>
  </nav>

  <main id="view">
    <!-- Login first -->
    <section id="login" class="card">
      <h2>Login</h2>
      <div class="row">
        <label>Nutzer</label>
        <select id="userSelect">
          <option>Maxi</option>
          <option>Thorsten</option>
        </select>
      </div>
      <div class="row">
        <label>Passwort</label>
        <input id="passwordInput" type="password" placeholder="avus" />
      </div>
      <div class="row">
        <button id="loginBtn" class="primary">Login</button>
      </div>
      <p class="muted">Tipp: Für eine echte Auth später OAuth einbauen.</p>
    </section>

    <section id="dashboard" class="hidden">
      <div class="grid two">
        <!-- Todos left -->
        <div class="card">
          <h3>To‑Dos (angeschrieben)</h3>
          <ul id="todoList" class="list"></ul>
        </div>

        <!-- Kampagneneinstellungen right -->
        <div class="card">
          <h3>Kampagneneinstellungen</h3>
          <div class="row">
            <label>Sendouts pro Tag</label>
            <input id="perDayInput" type="number" min="0" value="25" />
          </div>
          <div class="row">
            <label>Template</label>
            <select id="templateSelect"></select>
          </div>
          <div class="row">
            <button id="startBtn" class="primary">Kampagne starten</button>
            <button id="stopBtn" class="secondary" disabled>Stoppen</button>
            <span id="campaignBadge" class="badge hidden">Kampagne läuft…</span>
          </div>
          <div id="nextRun" class="muted"></div>
        </div>
      </div>

      <!-- Antworten -->
      <div class="grid three">
        <div class="card">
          <h3>HOT (<span id="hotCount">0</span>)</h3>
          <ul id="hotList" class="list"></ul>
        </div>
        <div class="card">
          <h3>Need Review (<span id="nrCount">0</span>)</h3>
          <ul id="nrList" class="list"></ul>
        </div>
        <div class="card">
          <h3>Reply (<span id="replyCount">0</span>)</h3>
          <ul id="replyList" class="list"></ul>
        </div>
      </div>

      <!-- KPIs + Chart -->
      <div class="grid three">
        <div class="card kpi"><div class="kpi-value" id="kpiSent">0</div><div class="kpi-label">Gesendet</div></div>
        <div class="card kpi"><div class="kpi-value" id="kpiReplies">0</div><div class="kpi-label">Antworten</div></div>
        <div class="card">
          <h3>Erfolg der Kampagne</h3>
          <canvas id="chart" height="180"></canvas>
        </div>
      </div>

      <!-- Kontakte -->
      <div class="card">
        <div class="row between">
          <h3>Kontakte</h3>
          <div class="row gap">
            <label>Anzahl anzeigen</label>
            <select id="limitSelect">
              <option>10</option><option selected>25</option><option>50</option><option>75</option><option>100</option>
            </select>
            <label class="ml">Deaktivierte einblenden</label>
            <input type="checkbox" id="showDisabled" checked/>
          </div>
        </div>
        <div class="table-wrap">
          <table id="contactsTable">
            <thead><tr>
              <th>Name</th><th>Firma</th><th>E‑Mail</th><th>Tags</th><th>Status</th><th>Deaktiviert</th>
            </tr></thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>

    <section id="templates" class="hidden">
      <div class="card">
        <h3>Templates</h3>
        <div class="row">
          <label>Vorlage</label>
          <select id="tplPicker"></select>
        </div>
        <div id="tplSteps" class="tpl-steps"></div>
        <div class="row">
          <button id="saveTplBtn" class="secondary" disabled>Speichern (Demo)</button>
          <span class="muted">Schreiben in Sheets erfordert OAuth/Apps Script – aktuell deaktiviert.</span>
        </div>
      </div>
    </section>

    <section id="blacklist" class="hidden">
      <div class="card">
        <h3>Blacklist</h3>
        <div class="row">
          <label>Suche</label>
          <input id="blSearch" placeholder="E‑Mail oder Domain…" />
          <label class="ml">Bounces einbeziehen</label>
          <input type="checkbox" id="includeBounces" checked />
        </div>
        <div class="row">
          <label>Adresse hinzufügen</label>
          <input id="blAdd" placeholder="z. B. name@firma.de" />
          <button id="blAddBtn" class="primary">Hinzufügen</button>
        </div>
        <ul id="blList" class="list"></ul>
      </div>
    </section>

    <section id="kontakte" class="hidden">
      <div class="card">
        <h3>Kontaktliste importieren</h3>
        <div class="row">
          <label>Datei (CSV/XLSX)</label>
          <input id="fileInput" type="file" accept=".csv,.xlsx"/>
          <button id="importBtn" class="primary">Import (Demo)</button>
        </div>
        <div id="importInfo" class="muted"></div>
        <div id="preview" class="card muted small"></div>
      </div>
    </section>
  </main>

  <footer class="muted center">© avus gastro — Browser-Version (Demo)</footer>

 <script>
  window.CONFIG = {
    sheetId: "1nF2tct6AFramkHv3WcNUGpu8kW_5FqQpNV2IGUgecSY",
    tabs: {
      // Datenquellen
      contacts: "campaign_leads",   // Kontaktliste unten + Deaktivieren-Toggle
      todos: "campaign_leads",      // To-Dos (aus bereits Angeschriebenen)
      templates: "templates",       // Vorlagen (Anschreiben + Follow-ups)
      blacklist: "blacklist",
      bounces: "bounce",
      settings: "settings",

      // Posteingang: wenn du (noch) keine separaten Inbox-Tabs führst,
      // nutze erstmal Platzhalter oder gleiche "campaign_leads" – siehe Fragen unten.
      inboxHot: "campaign_leads",
      inboxNeedReview: "campaign_leads",
      inboxReply: "campaign_leads"
    }
  };
</script>

  <script src="app.js"></script>
</body>
</html>
